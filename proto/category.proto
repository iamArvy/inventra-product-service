syntax = "proto3";

package product;

import "common.proto";

message CategoryInput {
  string name = 1;
  string description = 2;
}

message PartialCategoryInput {
  optional string name = 1;
  optional string description = 2;
}

message CreateCategoryInput {
  string store_id = 1;
  CategoryInput data = 2;
}

message UpdateCategoryInput {
  string id = 1;
  PartialCategoryInput data = 2;
}

message CategoryOrderBy {
  optional string name = 1; // Sort by key
  optional string created_at = 2; // Sort by value
  optional string updated_at = 3; // Sort by value
}

message ListCategoryInput {
  optional CategoryOrderBy orderBy = 1;
  optional int32 skip = 2; // Number of items to skip for pagination
  optional int32 take = 3;
}

message ListCategoryByRelationInput {
  string id = 1;
  optional ListCategoryInput params = 2;
}

message Category {
  string id = 1;
  string name = 2;
  string description = 3;
  string store_id = 4;
  optional string created_at = 5;
  optional string updated_at = 6;
}

message CategoryList {
  repeated Category categories = 1;
}

service CategoryService {
  rpc Create (CreateCategoryInput) returns (Category) {}
  rpc GetById (common.Id) returns (Category) {}
  rpc GetByName (common.Name) returns (Category) {}
  rpc List (ListCategoryInput) returns (CategoryList) {}
  rpc ListStoreCategories (ListCategoryByRelationInput) returns (CategoryList) {}
  rpc Update (UpdateCategoryInput) returns (Category) {}
  rpc Delete (common.Id) returns (common.Status) {}
}